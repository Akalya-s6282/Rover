<!DOCTYPE html>
<html>
<head>
    <title>Rover Dashboard</title>
    <style>
        body { font-family: Arial; margin: 50px; }
        input { margin: 5px; padding: 5px; width: 150px; }
        button { padding: 5px 10px; margin: 5px; }
    </style>
</head>
<body>
    <h1>Rover Control Dashboard</h1>
    
    <label>Latitude:</label>
    <input type="number" id="lat" step="0.000001"><br>
    
    <label>Longitude:</label>
    <input type="number" id="lon" step="0.000001"><br>
    
    <label>Status:</label>
    <select id="status">
        <option value="start">Start</option>
        <option value="stop">Stop</option>
    </select><br>

    <button onclick="sendCommand()">Send Command</button>

    <h3>Current Command:</h3>
    <pre id="currentCommand">{{ command }}</pre>

    <script>
        async function sendCommand() {
            const lat = parseFloat(document.getElementById("lat").value);
            const lon = parseFloat(document.getElementById("lon").value);
            const status = document.getElementById("status").value;

            const payload = {lat, lon, status};
            const res = await fetch("/set", {
                method: "POST",
                headers: {"Content-Type": "application/json"},
                body: JSON.stringify(payload)
            });

            const data = await res.json();
            document.getElementById("currentCommand").innerText = JSON.stringify(data.command, null, 2);
            alert("Command sent!");
        }
    </script>
</body>
</html>
